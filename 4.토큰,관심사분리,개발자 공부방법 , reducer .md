지속적으로 연결하는것은 소켓통신

그건 프로토콜 (하드웨어에서 자주 배웠었던)

비연결 지향이고,

상태정보를 유지한다.

stateless , connectionless


stateless 문제 해결 ?

==> 쿠키와 세션을 쓴다.

현재접속자와 이전 접속자가 같은지 확인할방법이없어서.

statefull 하게사용하려고 쿠키,세션을 사용


---

set-cookie 해서 해더에 보내준다.

(지난번에 크롤링당시 웹브라우저인척 했던 헤더의 코드와 비슷한거아닐까 ??)


쿠키 : 브라우저에 저장되는 작은 기록정보

유효시간이 정해지고 종료되면 자동으로 삭제,

- 쿠키는 사용자가 요청하지않아도 브라우저가 request 사용시 request header에 자동으로 넣어준다.


쿠키는 보안성이 좀 떨어져서

중요한 데이터는 담지않는다. (담아도 조작이 됬는지 않됬는지를 확인할수있는 상태면 상관없다.)


1. 로그인 안한 상태에서 물건을 장바구니에 담기
2. 아이디 자동 완성


세션스토리지는 하루정도이고

로컬스토리지는 영원하다. (아마 사용자나 브라우저가 정리를 해줘야하는거아닌가그래서)

쿠키

3가지 ( 세션스토리지 ,로컬스토리지 , 쿠키)

세션?

쿠키를 기반으로 ,..

서버에서 클라이언트를 구분하기위해서 세션 id를 부여하고,

## JWT

JSON Web Token

자가수용적 ? -> 토큰안에 모든정보가 포함되어있다.

신뢰할수있다 -> 서명값을통해서 조작된것인지 아닌지 확인할수있다.(알고리즈믄 잘 모르겟고)


인프라 : 세션을 사용하지않아도 되므로서버비용을 줄일수있다.

header

payload

signature

cors? 동일 도메인에서만 전송될수있게끔해서

쿠키가 생각보단? 보안에 좋을수도있긴하다.

일단..

secret key는 조심하자.

payload에 너무 중요한정보는 넣지말자, 털수있다.


유일한 키 만들기 <hash id 검색해보자.

헤쉬알고리즘

db에 저장할꺼냐 레디스같은 키벨류 스토어에 저장할꺼냐.

세션은 서버를 한번 거쳐야한다.

---


세션과 jwt의 장단점 비교


- 확장성
    - 세션 : 세션은 여러 api를 쓰더라도 하나의 인증서버에 데이터를확인하기때문에 한순간에 많은사람들이 사용하면 문제가될수있음 (병목현상도 있고)
    - jwt : 클라이언트에 고객정보를 가지고 있고, 서버에서는 조작여부만 확인하면 되기 때문에 부하가 작음

- 보안
    - 세션 : 쿠키를 기반으로 하고있기 때문에 CORS 문제를 해결해주어야함 
    - jwt : 쿠키를사용하지않으면 CORS문제로부터 자유로움
    CORS https://evan-moon.github.io/2020/05/21/about-cors/

- 토큰관리
    - 세션 : 토큰이 유출되거나 문제가 생겼을때 ,인증서버에서 해당 고객의 데이터를 지움을통해 강제로 만료시킬수있음
    - jwt : 토큰이 유출되거나 문제가 생겼을때, 토큰을 강제로 만료시킬방법이 없고, 토큰이 만료될때까지 기다려야함

        그래서 문제를 해결하기위해 토큰의 만료시간을 짧게두고 , refresh token을 통해서 지속적으로 갱신하도록함

        refresh token : https://blog.ull.im/engineering/2019/02/07/jwt-strategy.html

## 관심사의 분리

장고에는 MVC 패턴 : URL.py를 view로 보내준다.

뷰 <-> 모델

왔다갔다 한다. 모델-> db랑 저장만.


즉 하나의 app.py에 모든게 다들어갔었지만.

장고같은 프레임워크는 각 기능과 그런것이 다 분리되어있어서 관리하기가 편하고 그 전단계에 대해서 신뢰할수 있기때문에 .


- 리액트에서는

states 때문에 reducer를 쓴다.



---


리액트에서 -> 리덕스로 가는데 거기서 saga , thunk 두개로가는데 썽크? 그건안씀 사가 쓴다.

대부분의회사가 리덕스를 쓰며 , 사가를 공부해야함 어려워서

모빅스가 리덕스보단 조금더 편할순있다.

ㄱ리덕스까지는 Rest API

graphQL이라는것을 쓸꺼면

리덕스 필요없음

그래프큐엘 = > 아폴로 라는친구를 쓴다.

---


테스트코드? jest라는것을 배워야한다.

타입 체커 < 타입스크립트 

리액트가 많이 익숙해지면 < 타입스크립트로 넘어가자

너무 일찍넘어가면 힘들수있다. (타입스크립트 내용 많음!!! 조심) 고생한다.

프론트에서 렌더링할꺼냐 , 서버사이드에서 렌더링할꺼냐 

ssr ..

정적파일 생성기

등등 ..

앱만드려면 리액트 네이티브 해야한다.

---

### 정석 (프론트엔드)

리액트 , 리덕스 보고

스타일드 컴포넌트 해보고 프로젝트로 한번 해보고


(리덕스 이런느낌이네 알고나서!!)

그뒤로 타입스크립트 해보고 

기회가 되면 그래프 큐엘 지그재그< 가 그래프큐엘쓰는데 아직은 떠오르는 추세는 아니다 아직

아직 좀 앞서가는기술 (해외에서는 페북 넷플릭스 페이팔 등등.. 많이씀)


---


프론트엔드라면 = 리엑트 리덕스 ( JEST )


---



### 백엔드는 ?

DB : 1:n , n:m 이뭔지 알고 등등..

장고 : ORMs 문제

Oauth

Radis
Unit test

(서버는 중간에 개인프로젝트로 너무 사이즈가 커진다. 그래서 백엔드는 비교적 좀 낮을수도 ?)


DRF = Django Rest Framework

test 코드 짜는?

그다음 서버 배포..

docker 통해서 배포등등 ..


---

데이터베이스 사용방법 (SQL 쿼리 날리는법 알아야한다. )

SQL과 DB의 관계 알아야한다.

인증 알아야하고 JSON REST 

token

인프라 ( 웹서버 , )


---


데이터베이스 (설계) DB 배포

주니어 풀스택


---



리듀스?

---


리덕스는 회사라고 생각하면 된다. 

state를 관리하는 회사


redux가 보험회사라고 예를 들면

1. action creator 와 action은 사람들의 신청서

2. 계약파기

3. 보험금 요청하는 액션

등등..

dispatch는 신청서를 받아서 리듀서로 보내주는 영업원

리듀서들 은 각 부서들인것

보험요구내용들을 관리하는부서

돈을 계산해주는 회계부서

계약서를 관리하는 부서 등등..

state는 부서들의 데이터가 저장되어있는 db

---

리덕스? 내 브라우저가 여러개의 API를 쓰는데 

그걸 효과적으로 보여주려면 구조화해서 저장해야 편하다. 그래서

딕셔너리 리스트 , 스트링 등등.. 그래서 쓴다.

---

1. url을만들고?
2. view?
3. html..

원래 왓다갔다한다.

장고 작성순서.

원래만드는데 자주 왔다갔다한다.

관심사가 분리되어있으면 원래 만들때 힘들다.


컨텍스트 API 가 작게만드는 redux 이다.

