## http 프로토콜 특징

### 두가지 특징 
1. 비연결(Connectionless) 지향 : 한번만 연결함 반대로는 소켓통신이있다. http로 어떤 데이터를 딱 주고 받고 끝나는것이다.

채팅,카카오톡 이런것을 생각하면 실시간으로 연결을 해야하기때문에 쉽게생각하면 연결방식이 다르다는것으로 받아들이면된다.

2. 상태 정보 유지않함(Stateless) : 연결을 끊는 순간 클라이언트와 서버의 통신은 끝나며 상태 정보를 유지하지않는다.
> 상태정보를 유지하면 브라우저 혹은 컴퓨터를 껏다 켜도 로그인이 되어있을거아닌가?


장단점

많은 접속자들이나 이런것들을 적은 서버비용 or 최소의 리소스로

해결할수있다. (그만큼 다른 통신방법에 비해서는 처리하는것이 적다는것이다.)

단점은 이전의 접속한 유저와 같은지 확인할방법이없다. (로그인 이런거 아직 생각하지말고 순전히 http 내가 페이지만든거처럼 누군가 왔다 갔는데 그게 누군지도 모르겟고 이런것 생각하면된다.)

설령 로그인을 했다고 치자하지만 , 브라우저가 ,혹은 서버가 이 사실을 계속 가지고있다면? 그것도 문제일것이고, 가지고 있지않다면 , 매번 로그인창으로 유저의 상태를 확인해야될것이다.

그렇다면 어떻게 로그인하고나서도 계속 유지할수있지 ?



## cookie 쿠키

정의라고해야하나 기본개념은 컴퓨터 로컬의 저장소이다. 임시저장소? 가맞나

쿠키는 처음에 서버에 어떤요청 (로그인, 혹은 뭐 어떤 설정값)

앞으로의 이벤트나, 보여지는것들에 영향일 줄만한 것.. 이런 표현이 정확한가?

팝업창의 오늘하루 보지않기, 라던가..

이런 요청을 서버로 보내면 서버가 어떤 쿠키를 클라이언트에게 내려준다.

그 쿠키는 브라우저가 읽어들여서(?) 작은 기록 을 저장하는 저장소에 있게되고

라이프타임(생존시간)이 존재한다.

당연스럽게 내가 로그인을 했는데 그와 관련된 쿠키가 한달동안 생존한다면

내가 그 쿠키를 가지고만있으면 로그인이 항상 되있다는 소리이다.

물론 브라우저의 보안차원이라던가 여러 방면에서 쿠키를 방치하지 않을것이다.

당연히.. 라이프타임이 1달이나 되는일도 자주있는 일은 아닐것이고.

특히결제 페이지 단계같은 금융계열에서는 몇분,몇초 단위로 생존시간이 잡힐것이다.

이어서, 클라이언트가 서버로부터 어떤 쿠키파일을 받게되면

그이후의 (해당 도메인일때만 들고가겠지만) 서버에 어떤 요청을할때에는

항상 보유한 쿠키파일을 같이 들고갈것이다. 이때

서버는 그 쿠키의 속성값(?) 벨류? 그런것을보고 사용자에게 내려준다.

요즘 브라우저들은 사용자들의 편의를위해서 쿠키가 남아있는경우가 많다.

## session 세션

그래서 세션이라는게있다.

본질적으로는 쿠키라고 생각해도 될꺼같다.

약간 개념적인문제이지 않을까..

내가 네이버?어쨋든 어떤 로그인을 했다.

그때 서버에서 "너 로그인했구나, 아이디 비밀번호 -> 뭐 중간에 db를 확인하는등 여러 절차를 거쳐서, 로그인이 되면 그때 세션id를 사용자에게 쿠키로 준다"

물론 암호화되어있는것인지, 함부로 외우지 못하게 대소문자숫자가 섞여있는 긴 코드를준다.

쿠키와마찬가지로 라이프타임이 존재하고

나도 중간에 바로 들었던 의문이였지만

튜터님이 바로 보여주셔서 질문은 따로하지않았다.

서로다른 브라우저에서

하나의 브라우저에서 로그인시도해서 세션을 받아놓고 그 세션값을

복사해서 다른브라우저에서 로그인을 하지않고 새로운 세션을 마치 내가 서버를통해 방금 받은거마냥 등록하고 새로고침하면 로그인이 된상태로 변경된다.


이만큼 세션이 중요하고 , 보안에 중요성을 가진다.

아까 설명안했는데 쿠키는 보안에 취약해서 중요한 정보를 담으면 안됀다.

그래서 세션이라는것이 나온거고

이어서 설명하면 서버에서 무작위일찌 유저마다 정해진 세션아이디가 있을지는 의문이다. - "아 회사마다 다를수있다고 생각한다"

그리고 유니크한 값이여야한다.

그렇게 세션아이디를 가진 유저의 요청을 보고 서버단에 있는 DB의 세션아이디와 비교해서 일치하는지만확인하면 되기때문에 중요한 정보도 어느정도는 통과시킬만한 수단이 된다고 생각한다.

## copy&paste
- HTTP 프로토콜
    - [https://velog.io/@dnjscksdn98/HTTP-프로토콜에-대하여](https://velog.io/@dnjscksdn98/HTTP-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC)
    - [https://joshua1988.github.io/web-development/http-part1/](https://joshua1988.github.io/web-development/http-part1/)
- session, cookies
    - [https://velog.io/@aaronddy/쿠키와-세션-cookie-session](https://velog.io/@aaronddy/%EC%BF%A0%ED%82%A4%EC%99%80-%EC%84%B8%EC%85%98-cookie-session)
    - [https://doooyeon.github.io/2018/09/10/cookie-and-session.html](https://doooyeon.github.io/2018/09/10/cookie-and-session.html)
    - [https://www.youtube.com/watch?v=OpoVuwxGRDI](https://www.youtube.com/watch?v=OpoVuwxGRDI)
- session을 구축하는 방법
    - [https://devhaks.github.io/2019/04/20/session-strategy/](https://devhaks.github.io/2019/04/20/session-strategy/)